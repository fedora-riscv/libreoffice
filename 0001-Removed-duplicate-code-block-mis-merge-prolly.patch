From ea898caa151fb8e94b6bdb00b1008b6da98fddad Mon Sep 17 00:00:00 2001
From: Katarina Machalkova <kmachalkova@suse.cz>
Date: Thu, 7 Apr 2011 13:11:00 +0200
Subject: [PATCH] Removed duplicate code block (mis-merge, prolly)

This fixes build with --enable-kde4
---
 vcl/unx/kde4/KDEXLib.cxx |   10 ----------
 1 files changed, 0 insertions(+), 10 deletions(-)

diff --git a/vcl/unx/kde4/KDEXLib.cxx b/vcl/unx/kde4/KDEXLib.cxx
index 7757014..ca435c8 100644
--- a/vcl/unx/kde4/KDEXLib.cxx
+++ b/vcl/unx/kde4/KDEXLib.cxx
@@ -219,16 +219,6 @@ static bool qt_event_filter( void* m )
     return false;
 }
 
-static bool ( *old_qt_event_filter )( void* );
-static bool qt_event_filter( void* m )
-{
-    if( old_qt_event_filter != NULL && old_qt_event_filter( m ))
-        return true;
-    if( SalKDEDisplay::self() && SalKDEDisplay::self()->checkDirectInputEvent( static_cast< XEvent* >( m )))
-        return true;
-    return false;
-}
-
 void KDEXLib::setupEventLoop()
 {
     old_qt_event_filter = QAbstractEventDispatcher::instance()->setEventFilter( qt_event_filter );
diff --git a/vcl/source/gdi/gdimtf.cxx b/vcl/source/gdi/gdimtf.cxx
index 4809b1f..5c787bb 100644
--- a/vcl/source/gdi/gdimtf.cxx
+++ b/vcl/source/gdi/gdimtf.cxx
@@ -439,8 +439,6 @@ void GDIMetaFile::Play( GDIMetaFile& rMtf, sal_uLong nPos )
 
         rMtf.UseCanvas( rMtf.GetUseCanvas() || bUseCanvas );
 
-        rMtf.UseCanvas( rMtf.GetUseCanvas() || bUseCanvas );
-
         if( nPos > nObjCount )
             nPos = nObjCount;
 
diff --git a/vcl/unx/kde4/KDESalGraphics.cxx b/vcl/unx/kde4/KDESalGraphics.cxx
index 6cf466d..3b9a13c 100644
--- a/vcl/unx/kde4/KDESalGraphics.cxx
+++ b/vcl/unx/kde4/KDESalGraphics.cxx
@@ -433,8 +433,6 @@ sal_Bool KDESalGraphics::drawNativeControl( ControlType type, ControlPart part,
         const int width = kapp->style()->pixelMetric(QStyle::PM_ToolBarHandleExtent);
         QRect rect( 0, 0, width, widgetRect.height());
         clipRegion = new QRegion( widgetRect.x(), widgetRect.y(), width, widgetRect.height());
-        XRectangle xRect = { widgetRect.x(), widgetRect.y(), width, widgetRect.height() };
-        XUnionRectWithRegion( &xRect, pTempClipRegion, pTempClipRegion );
         
         QStyleOption option;
         option.state = QStyle::State_Horizontal;
