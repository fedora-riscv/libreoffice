From cac7066eaf59fac1fab6232a4c4f2f0df7021ec5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Caol=C3=A1n=20McNamara?= <caolanm@redhat.com>
Date: Wed, 8 Jun 2016 11:35:15 +0100
Subject: [PATCH] Resolves: rhbz#1343766 a11y queries during dispose trigger
 combobox crashes

(cherry picked from commit f120abb446bf3f5230ed06a3b148654dde36bb94)
(cherry picked from commit f7b0cbf1df98a1c42fe25cfdbd9977fba78347c8)

Change-Id: I29863ca95e64ccd31795f78c29c89ff35009d718
---
 vcl/source/control/combobox.cxx | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/vcl/source/control/combobox.cxx b/vcl/source/control/combobox.cxx
index 19c95e7..9e05a69 100644
--- a/vcl/source/control/combobox.cxx
+++ b/vcl/source/control/combobox.cxx
@@ -953,11 +953,15 @@ OUString ComboBox::GetEntry( sal_Int32 nPos ) const
 
 sal_Int32 ComboBox::GetEntryCount() const
 {
+    if (!mpImplLB)
+        return 0;
     return mpImplLB->GetEntryList()->GetEntryCount() - mpImplLB->GetEntryList()->GetMRUCount();
 }
 
 bool ComboBox::IsTravelSelect() const
 {
+    if (!mpImplLB)
+        return false;
     return mpImplLB->IsTravelSelect();
 }
 
@@ -974,6 +978,8 @@ void ComboBox::EnableMultiSelection( bool bMulti )
 
 bool ComboBox::IsMultiSelectionEnabled() const
 {
+    if (!mpImplLB)
+        return false;
     return mpImplLB->IsMultiSelectionEnabled();
 }
 
-- 
2.7.3

