From 7c4571adca053a2eb6229d0519f05520af28bbf7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Caol=C3=A1n=20McNamara?= <caolanm@redhat.com>
Date: Mon, 14 Mar 2011 11:29:11 +0000
Subject: [PATCH] Resolves: rhbz#684620 crash with NULL pTableBox

---
 sw/source/core/crsr/swcrsr.cxx |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/sw/source/core/crsr/swcrsr.cxx b/sw/source/core/crsr/swcrsr.cxx
index afdcc92..2f731bf 100644
--- a/sw/source/core/crsr/swcrsr.cxx
+++ b/sw/source/core/crsr/swcrsr.cxx
@@ -1701,7 +1701,7 @@ BOOL SwCursor::LeftRight( BOOL bLeft, USHORT nCnt, USHORT nMode,
         if ( pTableBoxStartNode )
         {
             const SwTableBox* pTableBox = pTableBoxStartNode->GetTblBox();
-            if ( pTableBox->getRowSpan() < 1 )
+            if ( pTableBox && pTableBox->getRowSpan() < 1 )
             {
                 // Store the row span offset:
                 mnRowSpanOffset = pTableBox->getRowSpan();
-- 
1.7.4.1

