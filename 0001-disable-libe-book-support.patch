From 9a48c01ba0e64581c5d104917cd3ba60d03ab9e0 Mon Sep 17 00:00:00 2001
From: David Tardon <dtardon@redhat.com>
Date: Thu, 21 Aug 2014 16:10:51 +0200
Subject: [PATCH] disable libe-book support

Change-Id: Ie915a9bd2acf7f3aeb8b0933252da33c17043bc4
---
 configure.ac                                             | 5 -----
 external/Module_external.mk                              | 1 -
 writerperfect/Library_wpftwriter.mk                      | 2 --
 writerperfect/source/writer/wpftwriter_genericfilter.cxx | 4 ----
 4 files changed, 12 deletions(-)

diff --git a/configure.ac b/configure.ac
index 2f19999..bde14a8 100644
--- a/configure.ac
+++ b/configure.ac
@@ -7757,11 +7757,6 @@ AS_IF([test "$COM" = "MSC"],
 libo_CHECK_SYSTEM_MODULE([librevenge],[REVENGE],[librevenge-0.0 >= 0.0.1],["-I${WORKDIR}/UnpackedTarball/librevenge/inc"],["-L${librevenge_libdir} -lrevenge-0.0"])
 
 dnl ===================================================================
-dnl Check for system libe-book
-dnl ===================================================================
-libo_CHECK_SYSTEM_MODULE([libebook],[EBOOK],[libe-book-0.1 >= 0.1.1])
-
-dnl ===================================================================
 dnl Check for system libetonyek
 dnl ===================================================================
 libo_CHECK_SYSTEM_MODULE([libetonyek],[ETONYEK],[libetonyek-0.1 >= 0.1.1])
diff --git a/external/Module_external.mk b/external/Module_external.mk
index 7049278..0e7fd60 100644
--- a/external/Module_external.mk
+++ b/external/Module_external.mk
@@ -35,7 +35,6 @@ $(eval $(call gb_Module_add_moduledirs,external,\
 	$(call gb_Helper_optional,CPPUNIT,cppunit) \
 	$(call gb_Helper_optional,CT2N,ct2n) \
 	$(call gb_Helper_optional,CURL,curl) \
-	$(call gb_Helper_optional,EBOOK,libebook) \
 	$(call gb_Helper_optional,EPM,epm) \
 	$(call gb_Helper_optional,ETONYEK,libetonyek) \
 	$(call gb_Helper_optional,EXPAT,expat) \
diff --git a/writerperfect/Library_wpftwriter.mk b/writerperfect/Library_wpftwriter.mk
index db6afdf..e6ea0f5 100644
--- a/writerperfect/Library_wpftwriter.mk
+++ b/writerperfect/Library_wpftwriter.mk
@@ -42,7 +42,6 @@ $(eval $(call gb_Library_use_libraries,wpftwriter,\
 $(eval $(call gb_Library_use_externals,wpftwriter,\
 	abw \
 	boost_headers \
-	ebook \
 	icui18n \
 	icuuc \
 	libxml2 \
@@ -57,7 +56,6 @@ $(eval $(call gb_Library_use_externals,wpftwriter,\
 
 $(eval $(call gb_Library_add_exception_objects,wpftwriter,\
 	writerperfect/source/writer/AbiWordImportFilter \
-	writerperfect/source/writer/EBookImportFilter \
 	writerperfect/source/writer/ImportFilterBase \
 	writerperfect/source/writer/MSWorksImportFilter \
 	writerperfect/source/writer/MWAWImportFilter \
diff --git a/writerperfect/source/writer/wpftwriter_genericfilter.cxx b/writerperfect/source/writer/wpftwriter_genericfilter.cxx
index 05f6542..831bc38 100644
--- a/writerperfect/source/writer/wpftwriter_genericfilter.cxx
+++ b/writerperfect/source/writer/wpftwriter_genericfilter.cxx
@@ -32,7 +32,6 @@
 #include "sal/types.h"
 
 #include "AbiWordImportFilter.hxx"
-#include "EBookImportFilter.hxx"
 #include "WordPerfectImportFilter.hxx"
 #include "MSWorksImportFilter.hxx"
 #include "MWAWImportFilter.hxx"
@@ -52,9 +51,6 @@ static cppu::ImplementationEntry const services[] = {
     { &MWAWImportFilter_createInstance, &MWAWImportFilter_getImplementationName,
       &MWAWImportFilter_getSupportedServiceNames,
       &cppu::createSingleComponentFactory, 0, 0 },
-    { &EBookImportFilter_createInstance, &EBookImportFilter_getImplementationName,
-      &EBookImportFilter_getSupportedServiceNames,
-      &cppu::createSingleComponentFactory, 0, 0 },
     { 0, 0, 0, 0, 0, 0 } };
 
 }
-- 
1.9.3

