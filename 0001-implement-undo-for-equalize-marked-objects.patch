From 4c8197bc270ec65c147af3388e35403aa77fd02f Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Caol=C3=A1n=20McNamara?= <caolanm@redhat.com>
Date: Fri, 28 Aug 2015 13:08:44 +0100
Subject: [PATCH] implement undo for equalize-marked-objects

Change-Id: I245e08674b52c2a5648e9d7762101b8057fd30e9
---
 svx/source/svdraw/svdedtv2.cxx | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/svx/source/svdraw/svdedtv2.cxx b/svx/source/svdraw/svdedtv2.cxx
index 75c884c..719355d 100644
--- a/svx/source/svdraw/svdedtv2.cxx
+++ b/svx/source/svdraw/svdedtv2.cxx
@@ -1200,6 +1200,8 @@ void SdrEditView::EqualizeMarkedObjects(bool bWidth)
         else
             aLogicRectSize.Height() = aLastRectSize.Height();
         aLogicRect.SetSize(aLogicRectSize);
+        if (bUndo)
+            AddUndo(GetModel()->GetSdrUndoFactory().CreateUndoGeoObject(*pObj));
         pObj->SetLogicRect(aLogicRect);
     }
 
-- 
2.4.0

