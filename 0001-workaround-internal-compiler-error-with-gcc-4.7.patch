From 4a71d128bba69f7b91fe46fad5731caac6ca6ba2 Mon Sep 17 00:00:00 2001
From: David Tardon <dtardon@redhat.com>
Date: Tue, 10 Jan 2012 13:31:33 +0100
Subject: [PATCH] workaround internal compiler error with gcc 4.7

---
 framework/source/uielement/toolbarmanager.cxx |    3 ++-
 framework/source/uielement/toolbarmerger.cxx  |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/framework/source/uielement/toolbarmanager.cxx b/framework/source/uielement/toolbarmanager.cxx
index 8d4f984..0104b65 100644
--- a/framework/source/uielement/toolbarmanager.cxx
+++ b/framework/source/uielement/toolbarmanager.cxx
@@ -1379,7 +1379,8 @@ void ToolBarManager::FillToolbar( const Reference< XIndexAccess >& rItemContaine
                     {
                         aCmdInfo.nId = nId;
                         aCmdInfo.nWidth = nWidth;
-                        m_aCommandMap.insert( CommandToInfoMap::value_type( aCommandURL, aCmdInfo ));
+                        const CommandToInfoMap::value_type aValue( aCommandURL, aCmdInfo );
+                        m_aCommandMap.insert( aValue );
                     }
                     else
                     {
diff --git a/framework/source/uielement/toolbarmerger.cxx b/framework/source/uielement/toolbarmerger.cxx
index 4b5da50..7e2a5f7 100644
--- a/framework/source/uielement/toolbarmerger.cxx
+++ b/framework/source/uielement/toolbarmerger.cxx
@@ -516,7 +516,8 @@ bool ToolBarMerger::MergeItems(
                 {
                     CommandInfo aCmdInfo;
                     aCmdInfo.nId = rItemId;
-                    rCommandMap.insert( CommandToInfoMap::value_type( rItem.aCommandURL, aCmdInfo ));
+                    const CommandToInfoMap::value_type aValue( rItem.aCommandURL, aCmdInfo );
+                    rCommandMap.insert( aValue );
                 }
                 else
                 {
-- 
1.7.7.5

