From 1f5f826f54684f8f19e69408cffa04cf25b5ad72 Mon Sep 17 00:00:00 2001
From: Bjoern Michaelsen <bjoern.michaelsen@canonical.com>
Date: Tue, 7 Feb 2012 17:15:03 +0000
Subject: [PATCH 3/4] fdo#35661: fix
 sw.SwXViewSettings::com::sun::star::text::ViewSettings

Signed-off-by: Noel Power <noel.power@novell.com>
---
 sw/qa/unoapi/knownissues.xcl |    3 ---
 sw/source/ui/uno/unomod.cxx  |    2 ++
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/sw/qa/unoapi/knownissues.xcl b/sw/qa/unoapi/knownissues.xcl
index 3cea081..a9315fe 100644
--- a/sw/qa/unoapi/knownissues.xcl
+++ b/sw/qa/unoapi/knownissues.xcl
@@ -188,8 +188,5 @@ sw.SwXTextViewCursor::com::sun::star::view::XScreenCursor
 ### fd#35660 ###
 sw.DocumentSettings::com::sun::star::text::PrintSettings
 
-### fd#35661 ###
-sw.SwXViewSettings::com::sun::star::text::ViewSettings
-
 ### fd#35662 ###
 sw.SwXPrintSettings::com::sun::star::text::PrintSettings
diff --git a/sw/source/ui/uno/unomod.cxx b/sw/source/ui/uno/unomod.cxx
index 8139a07..fd32cc5 100644
--- a/sw/source/ui/uno/unomod.cxx
+++ b/sw/source/ui/uno/unomod.cxx
@@ -748,6 +748,8 @@ void SwXViewSettings::_setSingleValue( const comphelper::PropertyInfo & rInfo, c
                 aOpt.setBrowseMode( bVal );
                 pView->GetWrtShell().ApplyViewOptions( aOpt );
                 pView->RecheckBrowseMode();
+                if(mpViewOption)
+                    mpViewOption->setBrowseMode(bVal);
             }
         }
         break;
-- 
1.7.7.6

